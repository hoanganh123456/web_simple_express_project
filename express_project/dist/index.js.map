{"version":3,"sources":["../index.js"],"names":["express","require","path","bodyParser","nodemailer","app","use","json","urlencoded","extended","static","join","__dirname","set","get","req","res","render","title","post","transporter","createTransport","service","auth","user","pass","name","body","email","message","mailOptions","from","to","subject","text","html","sendMail","error","info","console","log","redirect","messageId","listen"],"mappings":";;AAAA;;;AAGA,IAAMA,UAAUC,QAAQ,SAAR,CAAhB;AACA,IAAMC,OAAOD,QAAQ,MAAR,CAAb;AACA,IAAME,aAAYF,QAAQ,aAAR,CAAlB;AACA,IAAMG,aAAaH,QAAQ,YAAR,CAAnB;;AAEA,IAAOI,MAAML,SAAb;;AAEAK,IAAIC,GAAJ,CAAQH,WAAWI,IAAX,EAAR;AACAF,IAAIC,GAAJ,CAAQH,WAAWK,UAAX,CAAsB,EAACC,UAAS,IAAV,EAAtB,CAAR;AACAJ,IAAIC,GAAJ,CAAQN,QAAQU,MAAR,CAAeR,KAAKS,IAAL,CAAUC,SAAV,EAAoB,QAApB,CAAf,CAAR,E,CAAuD;;;AAGvDP,IAAIQ,GAAJ,CAAQ,OAAR,EAAgBX,KAAKS,IAAL,CAAUC,SAAV,EAAoB,OAApB,CAAhB;AACAP,IAAIQ,GAAJ,CAAQ,aAAR,EAAsB,MAAtB;;AAEAR,IAAIS,GAAJ,CAAQ,GAAR,EAAY,UAAUC,GAAV,EAAcC,GAAd,EAAmB;AAC3BA,QAAIC,MAAJ,CAAW,OAAX,EAAmB,EAACC,OAAQ,oBAAT,EAAnB;AACH,CAFD;;AAIAb,IAAIS,GAAJ,CAAQ,QAAR,EAAiB,UAAUC,GAAV,EAAcC,GAAd,EAAmB;AAChCA,QAAIC,MAAJ,CAAW,OAAX;AACH,CAFD;AAGAZ,IAAIS,GAAJ,CAAQ,UAAR,EAAmB,UAASC,GAAT,EAAaC,GAAb,EAAiB;AAChCA,QAAIC,MAAJ,CAAW,SAAX;AACH,CAFD;AAGAZ,IAAIc,IAAJ,CAAS,eAAT,EAAyB,UAAUJ,GAAV,EAAcC,GAAd,EAAmB;AACxC,QAAII,cAAchB,WAAWiB,eAAX,CAA2B;AACzC;AACAC,iBAAS,OAFgC;AAGzCC,cAAM;AACFC,kBAAM,2BADJ;AAEFC,kBAAM;AAFJ;AAHmC,KAA3B,CAAlB;AAQA,QAAIC,OAAOX,IAAIY,IAAJ,CAASD,IAApB;AACA,QAAIE,QAAQb,IAAIY,IAAJ,CAASC,KAArB;AACA,QAAIC,UAAUd,IAAIY,IAAJ,CAASE,OAAvB;;AAEA,QAAIC,cAAc;AACdC,cAAM,6BADQ,EACuB;AACrCC,YAAI,4BAFU,EAEoB;AAClCC,iBAAS,SAHK,EAGM;AACpBC,cAAM,0BAA0BR,IAA1B,GAAiC,UAAjC,GAA8CE,KAA9C,GAAsD,YAAtD,GAAqEC,OAJ7D,EAIsE;AACpFM,cAAM,wCAAuCT,IAAvC,GAA4C,mBAA5C,GAAgEE,KAAhE,GAAsE,qBAAtE,GAA4FC,OAA5F,GAAoG,YAL5F,CAKyG;;AALzG,KAAlB;;AASAT,gBAAYgB,QAAZ,CAAqBN,WAArB,EAAkC,UAACO,KAAD,EAAQC,IAAR,EAAiB;AAC/C,YAAID,KAAJ,EAAW;AACP,mBAAOE,QAAQC,GAAR,CAAYH,KAAZ,CAAP;AACArB,gBAAIyB,QAAJ,CAAa,GAAb;AACH,SAHD,MAIK;AACDF,oBAAQC,GAAR,CAAY,qBAAZ,EAAmCF,KAAKI,SAAxC;AACA1B,gBAAIyB,QAAJ,CAAa,GAAb;AACH;AACJ,KATD;AAWH,CAjCD;;AAmCApC,IAAIsC,MAAJ,CAAW,IAAX;AACAJ,QAAQC,GAAR,CAAY,gCAAZ","file":"index.js","sourcesContent":["/**\n * Created by hoanganh on 31/07/2017.\n */\nconst express = require('express');\nconst path = require('path');\nconst bodyParser= require('body-parser');\nconst nodemailer = require('nodemailer');\n\nconst  app = express();\n\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({extended:true}));\napp.use(express.static(path.join(__dirname,'public')));//su dung file public\n\n\napp.set('views',path.join(__dirname,'views'));\napp.set('view engine','jade');\n\napp.get(\"/\",function (req,res) {\n    res.render('index',{title : 'Welcome to express'});\n})\n\napp.get(\"/about\",function (req,res) {\n    res.render('about');\n})\napp.get(\"/contact\",function(req,res){\n    res.render('contact');\n})\napp.post(\"/contact/send\",function (req,res) {\n    let transporter = nodemailer.createTransport({\n        // secure:true for port 465, secure:false for port 587\n        service: 'gmail',\n        auth: {\n            user: 'dovuhoanganh123@gmail.com',\n            pass: 'hamlongthapbatchuong'\n        }\n    });\n    let name = req.body.name\n    let email = req.body.email\n    let message = req.body.message\n\n    let mailOptions = {\n        from: ' dovuhoanganh123@gmail.com ', // sender address\n        to: 'dovuhoanganh2016@gmail.com', // list of receivers\n        subject: 'Hello âœ”', // Subject line\n        text: 'Hello world ? Name : ' + name + 'Email : ' + email + 'Message : ' + message, // plain text body\n        html: '<p>Hello world ? </p><ul><li>Name :' +name+'</li><li> Email :'+email+'</li><li> Message :'+message+'</li></ul>' // html body\n\n    };\n\n    transporter.sendMail(mailOptions, (error, info) => {\n        if (error) {\n            return console.log(error);\n            res.redirect('/');\n        }\n        else {\n            console.log('Message %s sent: %s', info.messageId);\n            res.redirect('/');\n        }\n    });\n\n})\n\napp.listen(5000);\nconsole.log('Server is running on port 4000');\n"]}